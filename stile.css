/* stile.css - Cinematic RE2R final */

/* RESET */
* { margin:0; padding:0; box-sizing:border-box; }
html,body { height:100%; }

/* FONTS */
@import url('https://fonts.googleapis.com/css2?family=Creepster&family=Inter:wght@300;400;600;700&display=swap');

/* BASE */
:root{
  --accent:#ff3333;
  --muted:#bdbdbd;
  --bg-overlay: rgba(10,10,10,0.65);
  --glass: rgba(20,20,20,0.6);
}
body{
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:#e6e6e6;
  background:#000;
  min-height:100vh;
  overflow-x:hidden;
  --parallax-offset:0px;
}

/* BACKGROUND: full-screen umbrella (parallax) + fog overlay */
/* using pseudo elements so content isn't blurred */
body::before,
body::after{
  content:"";
  position:fixed;
  top:0; left:0;
  width:120%;
  height:120%;
  z-index:-2;
  pointer-events:none;
}

/* Umbrella logo background (cover) */
body::before{
  background-image: url('immagini/umbrella_logo.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: translateY(calc(var(--parallax-offset) * 0.25));
  filter: blur(10px) brightness(0.28);
  transition: transform 0.15s linear;
  z-index:-2;
}

/* subtle fog overlay - animated */
body::after{
  background-image: url('immagini/fog.png'); /* keep a subtle fog tile in immagini/ */
  background-size: 800px 800px;
  opacity: 0.08;
  transform: translateY(calc(var(--parallax-offset) * 0.12));
  animation: fogMove 80s linear infinite;
  z-index:-1;
}
@keyframes fogMove {
  from { background-position: 0 0; }
  to   { background-position: 1000px 0; }
}

/* PAGE TRANSITION */
.page-enter { opacity:0; transform: translateY(10px); }
.page-enter-active { opacity:1; transform:none; transition: opacity .45s ease, transform .45s ease; }
.page-exit { opacity:1; }
.page-exit-active { opacity:0; transform: translateY(-10px); transition: opacity .35s ease, transform .35s ease; }

/* LOADER (full-screen) */
#site-loader{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:linear-gradient(180deg, rgba(0,0,0,0.95), rgba(10,10,10,0.95));
  z-index:9999;
  flex-direction:column; gap:18px;
}
#site-loader .logo {
  width:140px; height:140px; background-image: url('immagini/umbrella_logo.png');
  background-size:contain; background-repeat:no-repeat; background-position:center;
  filter: drop-shadow(0 0 12px rgba(255,50,50,0.6));
  animation: loaderPulse 1.8s infinite ease-in-out;
}
@keyframes loaderPulse {
  0% { transform: scale(0.96); filter: drop-shadow(0 0 8px rgba(255,50,50,0.5)); }
  50% { transform: scale(1.05); filter: drop-shadow(0 0 20px rgba(255,50,50,0.8)); }
  100% { transform: scale(0.96); }
}
#site-loader .loader-text { color:var(--muted); font-size:0.95rem; letter-spacing:1px; }

/* HEADER */
.header-wrap{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(8,8,8,0.55), rgba(10,10,10,0.45));
  border-bottom: 1px solid rgba(255,51,51,0.06);
}
.header-inner{ max-width:1200px; margin:0 auto; padding:12px 20px; display:flex; gap:12px; align-items:center; justify-content:space-between; }

/* Branding */
.brand{
  display:flex; gap:12px; align-items:center;
}
.brand .logo-sm{
  width:44px; height:44px; background-image:url('immagini/umbrella_logo.png'); background-size:cover; border-radius:6px;
  filter: drop-shadow(0 0 8px rgba(255,40,40,0.4));
}
.brand h1{ font-family:'Creepster', cursive; color:var(--accent); font-size:1.25rem; letter-spacing:1px; text-shadow:0 0 10px rgba(255,50,50,0.3); margin:0; }

/* header controls */
.header-controls{ display:flex; gap:10px; align-items:center; }
.btn {
  background:rgba(20,20,20,0.65); color:#fff; border:1px solid rgba(255,255,255,0.06);
  padding:8px 12px; border-radius:6px; cursor:pointer; font-weight:600; font-size:0.95rem;
}
.btn:hover{ background:linear-gradient(180deg, rgba(255,51,51,0.08), rgba(255,51,51,0.02)); box-shadow:0 6px 20px rgba(255,0,0,0.03); }

/* SEARCH BOX */
.search-wrap{ position:relative; }
.search-wrap input[type="search"]{
  background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); padding:8px 10px; border-radius:6px; color:#eee; width:220px;
}
.search-wrap input::placeholder{ color:#bdbdbd; }

/* NAV */
nav.desktop{ display:flex; gap:8px; align-items:center; }
nav.desktop a{ color:#fff; text-decoration:none; padding:8px 12px; border-radius:6px; background:rgba(30,30,30,0.6); font-weight:600; }
nav.desktop a:hover{ background:var(--accent); color:#111; box-shadow:0 6px 22px rgba(255,51,51,0.08); }

/* HAMBURGER + MOBILE NAV */
.hamburger{ display:none; font-size:1.4rem; color:#fff; cursor:pointer; padding:8px; background:transparent; border:none; }
nav.mobile{ display:none; position:fixed; inset:70px 0 0 0; background:rgba(5,5,5,0.98); z-index:60; padding:18px; overflow:auto; }
nav.mobile a{ display:block; padding:12px 16px; margin:6px 0; background:rgba(30,30,30,0.6); border-radius:6px; color:#fff; text-decoration:none; }

/* MAIN */
.container{ max-width:1200px; margin:0 auto; padding:28px 20px 80px; }
.container section{ margin-bottom:32px; }
.container h2{ font-family:'Creepster', cursive; color:var(--accent); font-size:1.75rem; margin-bottom:12px; text-shadow:0 0 14px rgba(255,50,50,0.2); }
.container p{ color:#e6e6e6; line-height:1.7; margin-bottom:12px; }
.container ul{ list-style:none; padding:0; }
.container ul li{ padding:8px 0; color:#d6d6d6; }

/* SCHEDA (card layout) */
.scheda{ display:flex; gap:22px; background:var(--glass); backdrop-filter:blur(6px); border:1px solid rgba(255,255,255,0.05); border-radius:10px; padding:22px; margin-bottom:20px; }
.scheda .img{ flex-shrink:0; }
.scheda .img img{ width:180px; height:180px; object-fit:cover; border-radius:8px; border:1px solid rgba(255,255,255,0.08); }
.scheda .text{ flex:1; }

/* LIGHTBOX */
.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,0.95); z-index:9998; display:none; align-items:center; justify-content:center; }
.lightbox.active{ display:flex; }
.lightbox img{ max-width:90%; max-height:90%; border-radius:8px; box-shadow:0 12px 48px rgba(0,0,0,0.8); }

/* FOOTER */
footer{ text-align:center; padding:24px; color:var(--muted); border-top:1px solid rgba(255,255,255,0.05); margin-top:40px; }

/* TO TOP */
#toTop{ position:fixed; bottom:28px; right:28px; width:48px; height:48px; background:var(--accent); color:#000; border:none; border-radius:50%; display:none; align-items:center; justify-content:center; cursor:pointer; font-size:22px; box-shadow:0 8px 28px rgba(255,51,51,0.4); z-index:40; }
#toTop:hover{ transform:translateY(-2px); box-shadow:0 12px 36px rgba(255,51,51,0.6); }

/* READING PROGRESS */
#read-progress{ position:fixed; top:0; left:0; height:3px; background:var(--accent); z-index:9999; width:0; transition:width 0.1s; }

/* ACCESSIBILITY */
/* Cozy mode */
body.comoda{ font-size:1.15rem; line-height:1.85; }
body.comoda .container{ max-width:800px; }
body.comoda h2{ font-size:2rem; }

/* MOBILE RESPONSIVE */
@media (max-width:768px){
  .header-controls{ flex-wrap:wrap; }
  .search-wrap input[type="search"]{ width:120px; }
  .hamburger{ display:block; }
  nav.desktop{ display:none; }
  nav.mobile.open{ display:block; }
  .scheda{ flex-direction:column; }
  .scheda .img img{ width:100%; max-width:100%; }
}
